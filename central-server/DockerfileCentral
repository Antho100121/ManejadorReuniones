FROM openjdk:17

# Crear directorio de trabajo
WORKDIR /app

# Copiar TODO el contenido de src respetando la estructura de carpetas
COPY src/ src/
COPY employees.properties .

# Compilar el c√≥digo respetando los paquetes
RUN javac -d . src/servidorcentral/*.java src/modelo/*.java

# Exponer el puerto usado por el servidor
EXPOSE 9090

# Ejecutar especificando classpath relativo al WORKDIR
CMD ["java", "-cp", ".", "servidorcentral.ServidorCentral"]
